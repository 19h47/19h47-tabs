!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Tabs=e():t.Tabs=e()}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>h});class i{constructor(t){this.delete=()=>{var t;return null===(t=this.el.parentElement)||void 0===t?void 0:t.removeChild(this.el)},this.el=t,this.id=t.id}deactivate(){this.el.setAttribute("hidden","true"),this.el.classList.remove("is-active")}activate(){this.el.removeAttribute("hidden"),this.el.classList.add("is-active")}destroy(){this.el.removeAttribute("hidden"),this.el.classList.remove("is-active")}}function s(t,e={},i=""){const s=new CustomEvent(`Tab.${i}`,{bubbles:!1,cancelable:!0,detail:e});return t.dispatchEvent(s)}class a{constructor(t,e){var i;this.active=!1,this.id="",this.init=()=>this.initEvents(),this.initEvents=()=>this.el.addEventListener("click",this.handleClick),this.handleClick=()=>this.toggle(),this.focus=()=>this.el.focus(),this.delete=()=>{var t;s(this.el,{controls:this.controls,element:this.el},"delete"),null===(t=this.el.parentElement)||void 0===t||t.removeChild(this.el)},this.el=t,this.id=t.id,this.controls=(null===(i=t.getAttribute("aria-controls"))||void 0===i?void 0:i.trim().split(" ")[0])||"",this.active=JSON.parse(t.getAttribute("aria-selected")),this.callback=e}async toggle(t=!0){this.active||(await this.callback(),s(this.el,{controls:this.controls,element:this.el},"activate"),this.activate(t))}activate(t=!0){this.active=!0,this.el.setAttribute("tabindex","0"),this.el.setAttribute("aria-selected","true"),this.el.classList.add("is-active"),t&&this.focus()}deactivate(){this.active=!1,this.el.setAttribute("tabindex","-1"),this.el.setAttribute("aria-selected","false"),this.el.classList.remove("is-active")}destroy(){this.el.removeAttribute("tabindex"),this.el.removeAttribute("aria-selected"),this.el.classList.remove("is-active"),this.el.removeEventListener("click",this.handleClick)}}const r={hash:!0,delay:0,callback(){}};class h{constructor(t,e={}){this.current=0,this.tabPanels=[],this.tabs=[],this.href="",this.handleKeydown=t=>{const{key:e,code:i,target:s}=t,a=JSON.parse(s.getAttribute("aria-selected")),r=()=>{this.current=0>this.current-1?this.tabs.length-1:this.current-1,this.tabs[this.current].focus(),this.options.delay&&setTimeout((()=>{this.tabs[this.current].toggle(!1)}),this.options.delay)},h=()=>{this.current=this.current+1>this.tabs.length-1?0:this.current+1,this.tabs[this.current].focus(),this.options.delay&&setTimeout((()=>{this.tabs[this.current].toggle(!1)}),this.options.delay)},l=()=>{t.preventDefault(),this.current=0,this.tabs[this.current].toggle()},n=()=>{t.preventDefault(),this.current=this.tabs.length-1,this.tabs[this.current].toggle()},o={ArrowUp:r,ArrowLeft:r,ArrowDown:h,ArrowRight:h,End:n,Home:l,PageUp:l,PageDown:n,Delete:()=>a&&this.delete(t),Backspace:()=>a&&this.delete(t),default:()=>!1};return(o[e||i]||o.default)()},this.deactivateTabs=()=>this.tabs.forEach((t=>t.deactivate())),this.deactivateTabPanels=()=>this.tabPanels.forEach((t=>t.deactivate())),this.create=()=>this.init(),this.el=t,this.$tabList=this.el.querySelector('[role="tablist"]'),this.options={...r,...e},this.href=this.options.hash&&function(t){const e=t.indexOf("#");return-1===e?"":t.substring(e+1)}(window.location.hash)||""}init(){this.tabs=[...this.$tabList.querySelectorAll('[role="tab"]')].map((t=>new a(t,this.options.callback))),this.tabPanels=[...this.el.querySelectorAll('[role="tabpanel"]')].map((t=>new i(t))),this.tabs.forEach(((t,e)=>{t.init(),t.el.addEventListener("Tab.activate",(()=>{this.current=e,this.deactivateTabs(),this.deactivateTabPanels(),this.tabPanels.find((e=>e.id===t.controls)).activate(),this.options.hash&&(this.href=t.id,window.location.hash=t.id)})),(t.active||t.id===this.href||this.current===e)&&(this.deactivateTabs(),this.deactivateTabPanels(),t.activate(!1),this.tabPanels.find((e=>e.id===t.controls)).activate())})),this.initEvents()}initEvents(){var t;null===(t=this.$tabList)||void 0===t||t.addEventListener("keydown",this.handleKeydown)}delete({target:t}){return null!==t.getAttribute("data-deletable")&&(this.tabs[this.current].delete(),this.tabPanels[this.current].delete(),this.tabs.splice(this.current,1),this.tabPanels.splice(this.current,1),0>this.current-1?this.current=0:this.current=this.current-1,this.tabs[this.current].toggle(),!0)}destroy(){var t;null===(t=this.$tabList)||void 0===t||t.removeEventListener("keydown",this.handleKeydown),this.tabs.forEach((t=>t.destroy())),this.tabPanels.forEach((t=>t.destroy())),this.tabs=[],this.tabPanels=[]}}return e})()));